{
  "comments": [
    {
      "key": {
        "uuid": "7a6b29fe_66e2cfa0",
        "filename": "opendaylight/md-sal/sal-akka-raft/src/main/java/org/opendaylight/controller/cluster/raft/RaftActorContext.java",
        "patchSetId": 3
      },
      "lineNbr": 17,
      "author": {
        "id": 649
      },
      "writtenOn": "2016-08-09T12:04:48Z",
      "side": 1,
      "message": "can we use java.util.Optional instead?",
      "range": {
        "startLine": 17,
        "startChar": 25,
        "endLine": 17,
        "endChar": 38
      },
      "revId": "cf7e45dc475f5323284af47a853adbdc5d36dfc8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a6b29fe_eb906797",
        "filename": "opendaylight/md-sal/sal-akka-raft/src/main/java/org/opendaylight/controller/cluster/raft/RaftActorContext.java",
        "patchSetId": 3
      },
      "lineNbr": 17,
      "author": {
        "id": 1842
      },
      "writtenOn": "2016-08-09T14:35:52Z",
      "side": 1,
      "message": "I was going to but other classes use google\u0027s so I wanted to avoid a mix of usage in the same class. But Follower doesn\u0027t use google\u0027s so I can change it.",
      "parentUuid": "7a6b29fe_66e2cfa0",
      "range": {
        "startLine": 17,
        "startChar": 25,
        "endLine": 17,
        "endChar": 38
      },
      "revId": "cf7e45dc475f5323284af47a853adbdc5d36dfc8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a6b29fe_378920ec",
        "filename": "opendaylight/md-sal/sal-akka-raft/src/main/java/org/opendaylight/controller/cluster/raft/RaftActorContext.java",
        "patchSetId": 3
      },
      "lineNbr": 17,
      "author": {
        "id": 649
      },
      "writtenOn": "2016-08-10T01:09:04Z",
      "side": 1,
      "message": "Couple of reasons, actually:\n- Making Optional serializable does not really make sense and is not useful for the usage pattern it is designed for (guard for presence + non-null value)\n- Down the line java.util.Optional may become a value type (http://cr.openjdk.java.net/~jrose/values/values-0.html)\n- Fewer 3rd-party dependencies\n- Guava 19.0 recommends using java.util.Optional",
      "parentUuid": "7a6b29fe_6be9f77f",
      "range": {
        "startLine": 17,
        "startChar": 25,
        "endLine": 17,
        "endChar": 38
      },
      "revId": "cf7e45dc475f5323284af47a853adbdc5d36dfc8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a6b29fe_6be9f77f",
        "filename": "opendaylight/md-sal/sal-akka-raft/src/main/java/org/opendaylight/controller/cluster/raft/RaftActorContext.java",
        "patchSetId": 3
      },
      "lineNbr": 17,
      "author": {
        "id": 8051
      },
      "writtenOn": "2019-11-04T22:11:05Z",
      "side": 1,
      "message": "Robert, any specific reason ?\nThe main difference between the Java 8 and the Guava implementation is the decision of not making Optional serializable amongst others, as far as i remember. Hence its better to go with Guava Optional.",
      "parentUuid": "7a6b29fe_eb906797",
      "range": {
        "startLine": 17,
        "startChar": 25,
        "endLine": 17,
        "endChar": 38
      },
      "revId": "cf7e45dc475f5323284af47a853adbdc5d36dfc8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a6b29fe_c6ee438b",
        "filename": "opendaylight/md-sal/sal-akka-raft/src/main/java/org/opendaylight/controller/cluster/raft/RaftActorContextImpl.java",
        "patchSetId": 3
      },
      "lineNbr": 136,
      "author": {
        "id": 649
      },
      "writtenOn": "2016-08-09T12:04:48Z",
      "side": 1,
      "message": "LOG.debug() the exception, just to be safe and keep Sonar happy",
      "range": {
        "startLine": 136,
        "startChar": 19,
        "endLine": 136,
        "endChar": 37
      },
      "revId": "cf7e45dc475f5323284af47a853adbdc5d36dfc8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a6b29fe_6bf457f2",
        "filename": "opendaylight/md-sal/sal-akka-raft/src/main/java/org/opendaylight/controller/cluster/raft/RaftActorContextImpl.java",
        "patchSetId": 3
      },
      "lineNbr": 136,
      "author": {
        "id": 1842
      },
      "writtenOn": "2016-08-09T14:35:52Z",
      "side": 1,
      "message": "will do",
      "parentUuid": "7a6b29fe_c6ee438b",
      "range": {
        "startLine": 136,
        "startChar": 19,
        "endLine": 136,
        "endChar": 37
      },
      "revId": "cf7e45dc475f5323284af47a853adbdc5d36dfc8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a6b29fe_66f92f4d",
        "filename": "opendaylight/md-sal/sal-akka-raft/src/main/java/org/opendaylight/controller/cluster/raft/behaviors/Follower.java",
        "patchSetId": 3
      },
      "lineNbr": 450,
      "author": {
        "id": 649
      },
      "writtenOn": "2016-08-09T12:04:48Z",
      "side": 1,
      "message": "Since we go through ActorSelection, would it be possible for this code to mistakenly mis-detect a restarted Leader?",
      "range": {
        "startLine": 450,
        "startChar": 8,
        "endLine": 450,
        "endChar": 34
      },
      "revId": "cf7e45dc475f5323284af47a853adbdc5d36dfc8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a6b29fe_2bd1bf57",
        "filename": "opendaylight/md-sal/sal-akka-raft/src/main/java/org/opendaylight/controller/cluster/raft/behaviors/Follower.java",
        "patchSetId": 3
      },
      "lineNbr": 450,
      "author": {
        "id": 1842
      },
      "writtenOn": "2016-08-09T14:35:52Z",
      "side": 1,
      "message": "I don\u0027t think there should be any issue - I\u0027m only using the ActorSelection to get the address.",
      "parentUuid": "7a6b29fe_66f92f4d",
      "range": {
        "startLine": 450,
        "startChar": 8,
        "endLine": 450,
        "endChar": 34
      },
      "revId": "cf7e45dc475f5323284af47a853adbdc5d36dfc8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a6b29fe_37600032",
        "filename": "opendaylight/md-sal/sal-akka-raft/src/main/java/org/opendaylight/controller/cluster/raft/behaviors/Follower.java",
        "patchSetId": 3
      },
      "lineNbr": 450,
      "author": {
        "id": 649
      },
      "writtenOn": "2016-08-10T01:14:54Z",
      "side": 1,
      "message": "So this does not really check the actor, just the cluster member state...\n\nI can see how we recover from a restarted actor, or (eventually) from a GC pause, but how do we recover from leader actor which is stuck in an infinite loop?",
      "parentUuid": "7a6b29fe_2bd1bf57",
      "range": {
        "startLine": 450,
        "startChar": 8,
        "endLine": 450,
        "endChar": 34
      },
      "revId": "cf7e45dc475f5323284af47a853adbdc5d36dfc8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a6b29fe_e3bfe3ce",
        "filename": "opendaylight/md-sal/sal-akka-raft/src/main/java/org/opendaylight/controller/cluster/raft/behaviors/Follower.java",
        "patchSetId": 3
      },
      "lineNbr": 450,
      "author": {
        "id": 1842
      },
      "writtenOn": "2016-08-10T19:04:05Z",
      "side": 1,
      "message": "We\u0027re just creating an ActorSelection to get the Address instance - it  doesn\u0027t do anything until you resolve or send a message.  It looks like we could use AddressFromURIString as well although it shouldn\u0027t matter either way. I can try that later.",
      "parentUuid": "7a6b29fe_e29364f8",
      "range": {
        "startLine": 450,
        "startChar": 8,
        "endLine": 450,
        "endChar": 34
      },
      "revId": "cf7e45dc475f5323284af47a853adbdc5d36dfc8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a6b29fe_42ee9889",
        "filename": "opendaylight/md-sal/sal-akka-raft/src/main/java/org/opendaylight/controller/cluster/raft/behaviors/Follower.java",
        "patchSetId": 3
      },
      "lineNbr": 450,
      "author": {
        "id": 1842
      },
      "writtenOn": "2016-08-10T19:04:05Z",
      "side": 1,
      "message": "I think that\u0027s an extreme edge case. If it\u0027s stuck in an endless loop then the process would eventually have to be restarted. I have yet to see such a case - I\u0027m willing to live with the recourse in lieu of better stability in the more common cases.",
      "parentUuid": "7a6b29fe_37600032",
      "range": {
        "startLine": 450,
        "startChar": 8,
        "endLine": 450,
        "endChar": 34
      },
      "revId": "cf7e45dc475f5323284af47a853adbdc5d36dfc8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a6b29fe_f474bb9d",
        "filename": "opendaylight/md-sal/sal-akka-raft/src/main/java/org/opendaylight/controller/cluster/raft/behaviors/Follower.java",
        "patchSetId": 3
      },
      "lineNbr": 450,
      "author": {
        "id": 649
      },
      "writtenOn": "2016-08-11T09:39:18Z",
      "side": 1,
      "message": "Can we place an absolute upper bound for how long we delay the elections? It can be even 10 minutes, but we cannot rely on some other external entity to come and kill the process -- that can take hours, during which the system is prevented from recovering (eventhough it uses a self-healing algorithm).",
      "parentUuid": "7a6b29fe_3e3c54e2",
      "range": {
        "startLine": 450,
        "startChar": 8,
        "endLine": 450,
        "endChar": 34
      },
      "revId": "cf7e45dc475f5323284af47a853adbdc5d36dfc8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a6b29fe_54adaf30",
        "filename": "opendaylight/md-sal/sal-akka-raft/src/main/java/org/opendaylight/controller/cluster/raft/behaviors/Follower.java",
        "patchSetId": 3
      },
      "lineNbr": 450,
      "author": {
        "id": 1842
      },
      "writtenOn": "2016-08-11T11:11:26Z",
      "side": 1,
      "message": "done",
      "parentUuid": "7a6b29fe_f474bb9d",
      "range": {
        "startLine": 450,
        "startChar": 8,
        "endLine": 450,
        "endChar": 34
      },
      "revId": "cf7e45dc475f5323284af47a853adbdc5d36dfc8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a6b29fe_e29364f8",
        "filename": "opendaylight/md-sal/sal-akka-raft/src/main/java/org/opendaylight/controller/cluster/raft/behaviors/Follower.java",
        "patchSetId": 3
      },
      "lineNbr": 450,
      "author": {
        "id": 7865
      },
      "writtenOn": "2019-11-12T23:22:49Z",
      "side": 1,
      "message": "You mean that ActorSelection based address resolution can lie if the target actor is remote and busy ?",
      "parentUuid": "7a6b29fe_37600032",
      "range": {
        "startLine": 450,
        "startChar": 8,
        "endLine": 450,
        "endChar": 34
      },
      "revId": "cf7e45dc475f5323284af47a853adbdc5d36dfc8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a6b29fe_3e3c54e2",
        "filename": "opendaylight/md-sal/sal-akka-raft/src/main/java/org/opendaylight/controller/cluster/raft/behaviors/Follower.java",
        "patchSetId": 3
      },
      "lineNbr": 450,
      "author": {
        "id": 7865
      },
      "writtenOn": "2019-11-12T23:22:49Z",
      "side": 1,
      "message": "I guess it should be fine. I did not see anything restrictive in Akka documentation. I was just trying to understand the comment provided by Robert",
      "parentUuid": "7a6b29fe_e3bfe3ce",
      "range": {
        "startLine": 450,
        "startChar": 8,
        "endLine": 450,
        "endChar": 34
      },
      "revId": "cf7e45dc475f5323284af47a853adbdc5d36dfc8",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    }
  ]
}