{
  "comments": [
    {
      "key": {
        "uuid": "9a3d3df0_d2aace83",
        "filename": "opendaylight/md-sal/sal-distributed-datastore/src/main/java/org/opendaylight/controller/cluster/datastore/Shard.java",
        "patchSetId": 1
      },
      "lineNbr": 345,
      "author": {
        "id": 21
      },
      "writtenOn": "2016-03-15T12:13:56Z",
      "side": 1,
      "message": "This seems bit racy / not working correctly - if leader goes down before applying it to state - seems like timeouting\nof coordinator in 3PC, which should result in aborting transaction.\n\nAlso are we really sure that this transaction is commited into\nall replicas correctly?.\n\nWhen we become leader, why are we precommiting second transaction, even if we did not finish processing of first one?\n\nCorrect behaviour would be to replay / precommit second transaction on top of first one instead of relying on data tree to fail commit and then retry.",
      "range": {
        "startLine": 342,
        "startChar": 45,
        "endLine": 345,
        "endChar": 103
      },
      "revId": "4b13808df348cba741eac0fbb4ee103fdcf1e841",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    }
  ]
}