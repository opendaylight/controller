{
  "comments": [
    {
      "key": {
        "uuid": "fa82b9bf_18417239",
        "filename": "opendaylight/samples/clustersession/src/main/java/org/opendaylight/controller/clustersession/impl/InfinispanSessionServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 19
      },
      "writtenOn": "2014-04-18T07:55:48Z",
      "side": 1,
      "message": "Please don\u0027t call it InfinispanSessionServiceImpl, there is nothing specific to infinispan here, from an user point of view this is simply a concurrent hashmap.",
      "revId": "b83f07093d344b9d1c34677cd85655eac9edbd69",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa82b9bf_d8754a33",
        "filename": "opendaylight/samples/clustersession/src/main/java/org/opendaylight/controller/clustersession/impl/InfinispanSessionServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 1903
      },
      "writtenOn": "2014-04-18T16:53:00Z",
      "side": 1,
      "message": "Earlier, i thought this ClusterSessionService can use different implementation such as memcache based, but you are right. Infinispan is hidden behind Cluster Global Service, which is not visible to user. I\u0027ll update the name of this class",
      "parentUuid": "fa82b9bf_18417239",
      "revId": "b83f07093d344b9d1c34677cd85655eac9edbd69",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa82b9bf_b8796695",
        "filename": "opendaylight/samples/clustersession/src/main/java/org/opendaylight/controller/clustersession/impl/InfinispanSessionServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 148,
      "author": {
        "id": 19
      },
      "writtenOn": "2014-04-18T07:55:48Z",
      "side": 1,
      "message": "If the caches cannot be created i just wonder if wouldn\u0027t make sense to temporarely cache the data and then when (if) the cluster service come up you can sync those data. Just a thought. Else i believe this way you are effectively speaking blocking login till the clusterService is not available, it\u0027s definitively a safe option, just looking to see if you have evaluated also another strategy.",
      "revId": "b83f07093d344b9d1c34677cd85655eac9edbd69",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa82b9bf_187c1220",
        "filename": "opendaylight/samples/clustersession/src/main/java/org/opendaylight/controller/clustersession/impl/InfinispanSessionServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 148,
      "author": {
        "id": 1903
      },
      "writtenOn": "2014-04-18T16:53:00Z",
      "side": 1,
      "message": "I actually thought about temporary data cache in memory, but then, say once user login on one server in cluster, home page of UI then sends multiple requests to the cluster via ajax, once any of those requests hit the second server, which does not have session details, it will resend user back to login page, so loop continues. If we have bigger UI application, with some caching layer, perhaps using memcache on one dedicated machine, we could have dealt with it in better manner",
      "parentUuid": "fa82b9bf_b8796695",
      "revId": "b83f07093d344b9d1c34677cd85655eac9edbd69",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa82b9bf_9874a29d",
        "filename": "opendaylight/samples/clustersession/src/main/java/org/opendaylight/controller/clustersession/impl/InfinispanSessionServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 300,
      "author": {
        "id": 19
      },
      "writtenOn": "2014-04-18T07:55:48Z",
      "side": 1,
      "message": "This should not be an error, indeed this race condition could happen as part of normal condition, given the lifecycle of this object cannot be driven by the presence of clusterGlobalServices as being a mandatory dependency. \nThis is one of the few cases (the fragment-host) where the service has to be threated optional and code need to be designed accordingly. See my other note on createSession method (but applicable also to addSession)",
      "revId": "b83f07093d344b9d1c34677cd85655eac9edbd69",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa82b9bf_3879d62f",
        "filename": "opendaylight/samples/clustersession/src/main/java/org/opendaylight/controller/clustersession/impl/InfinispanSessionServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 300,
      "author": {
        "id": 1903
      },
      "writtenOn": "2014-04-18T16:53:00Z",
      "side": 1,
      "message": "I\u0027ll change it to trace",
      "parentUuid": "fa82b9bf_9874a29d",
      "revId": "b83f07093d344b9d1c34677cd85655eac9edbd69",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa82b9bf_586e1acb",
        "filename": "opendaylight/samples/clustersession/src/main/java/org/opendaylight/controller/clustersession/impl/InfinispanSessionServiceImpl.java",
        "patchSetId": 1
      },
      "lineNbr": 320,
      "author": {
        "id": 19
      },
      "writtenOn": "2014-04-18T07:55:48Z",
      "side": 1,
      "message": "This should not be error, it could happen based on timing and the issue could clear as soon as the servicetracker find the service. I would add this as trace",
      "revId": "b83f07093d344b9d1c34677cd85655eac9edbd69",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa82b9bf_383eb6b9",
        "filename": "opendaylight/samples/clustersession/src/test/java/org/opendaylight/controller/clustersession/InfinispanSessionServiceImplTest.java",
        "patchSetId": 1
      },
      "lineNbr": 33,
      "author": {
        "id": 19
      },
      "writtenOn": "2014-04-18T07:55:48Z",
      "side": 1,
      "message": "Same here, please remove Infinispan name from this class",
      "revId": "b83f07093d344b9d1c34677cd85655eac9edbd69",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    }
  ]
}