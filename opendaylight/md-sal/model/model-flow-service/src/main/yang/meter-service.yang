module sal-meter {
    namespace "urn:opendaylight:meter:service";
    prefix meter;

    import yang-ext {prefix ext; revision-date "2013-07-09";}
    import opendaylight-inventory {prefix inv;revision-date "2013-08-19";}
    import opendaylight-meter-types {prefix meter-type;revision-date "2013-09-18";}

    revision "2013-09-18" {
        description "Initial revision of meter service";
    }        
    
    grouping node-meter {
        uses "inv:node-context-ref";
        
        uses meter-type:meter;
    }

    /** Base configuration structure **/
    grouping meter-update {
        uses "inv:node-context-ref";

        container original-meter {
            uses meter-type:meter;
        }
        container updated-meter {
            uses meter-type:meter;
        }
    }

    rpc add-meter {
        input {
            uses node-meter;
        }
    }

    rpc remove-meter {
        input {
            uses node-meter;
        }
    }

    rpc update-meter {
        input {
            uses meter-update;
        }
    }
        
    notification meter-added {
        uses node-meter;
    }

    notification meter-updated {
        uses node-meter;
    }

    notification meter-removed {
        uses node-meter;
    }
}