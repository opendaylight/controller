{
  "comments": [
    {
      "key": {
        "uuid": "3a79b1b5_c022fdb8",
        "filename": "opendaylight/md-sal/sal-distributed-datastore/src/main/java/org/opendaylight/controller/cluster/datastore/entityownership/EntityOwnershipListenerActor.java",
        "patchSetId": 2
      },
      "lineNbr": 44,
      "author": {
        "id": 795
      },
      "writtenOn": "2015-08-27T20:01:40Z",
      "side": 1,
      "message": "I know this is generated but looks funny when you read it.",
      "range": {
        "startLine": 44,
        "startChar": 65,
        "endLine": 44,
        "endChar": 75
      },
      "revId": "82222da0f462a0569ca6d2c1b201a4328e807a67",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a79b1b5_bb10524f",
        "filename": "opendaylight/md-sal/sal-distributed-datastore/src/main/java/org/opendaylight/controller/cluster/datastore/entityownership/EntityOwnershipListenerActor.java",
        "patchSetId": 2
      },
      "lineNbr": 44,
      "author": {
        "id": 1842
      },
      "writtenOn": "2015-08-27T20:09:28Z",
      "side": 1,
      "message": "does look funny - didn\u0027t notice that. I\u0027ll change to wasOwner().",
      "parentUuid": "3a79b1b5_c022fdb8",
      "range": {
        "startLine": 44,
        "startChar": 65,
        "endLine": 44,
        "endChar": 75
      },
      "revId": "82222da0f462a0569ca6d2c1b201a4328e807a67",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a79b1b5_9bf8f67d",
        "filename": "opendaylight/md-sal/sal-distributed-datastore/src/main/java/org/opendaylight/controller/cluster/datastore/entityownership/EntityOwnershipListenerSupport.java",
        "patchSetId": 2
      },
      "lineNbr": 50,
      "author": {
        "id": 1842
      },
      "writtenOn": "2015-08-28T00:01:21Z",
      "side": 1,
      "message": "I guess I\u0027m not following what you said below. This code (and the remove method) needs access to the listenerActorMap which is global to the contained ListenerActorRefEntry instances. I could add a static method to ListenerActorRefEntry that does this but I\u0027m not sure what we\u0027d gain. This is the only place the code is needed. We couldn\u0027t move out ListenerActorRefEntry b/c it\u0027s now non-static since it needs access to the containing fields.",
      "revId": "82222da0f462a0569ca6d2c1b201a4328e807a67",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a79b1b5_1b2ce601",
        "filename": "opendaylight/md-sal/sal-distributed-datastore/src/main/java/org/opendaylight/controller/cluster/datastore/entityownership/EntityOwnershipListenerSupport.java",
        "patchSetId": 2
      },
      "lineNbr": 50,
      "author": {
        "id": 795
      },
      "writtenOn": "2015-08-28T00:35:39Z",
      "side": 1,
      "message": "Now that you made it non-static it\u0027s kind of a moot point. I was looking for ways to refactor the code so that direct field access would not be necessary.",
      "parentUuid": "3a79b1b5_9bf8f67d",
      "revId": "82222da0f462a0569ca6d2c1b201a4328e807a67",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a79b1b5_3b668252",
        "filename": "opendaylight/md-sal/sal-distributed-datastore/src/main/java/org/opendaylight/controller/cluster/datastore/entityownership/EntityOwnershipListenerSupport.java",
        "patchSetId": 2
      },
      "lineNbr": 50,
      "author": {
        "id": 1842
      },
      "writtenOn": "2015-08-28T01:53:33Z",
      "side": 1,
      "message": "Yeah - but the only way I can see to do what you wanted was to make it non-static or pass in the listener, listenerActorMap, ActorContext etc to the various methods. I think the latter would have been ugly. I was merely treating ListenerActorRefEntry as a simple internal \"struct\" private to this class to hold the actorRef and ref count.",
      "parentUuid": "3a79b1b5_1b2ce601",
      "revId": "82222da0f462a0569ca6d2c1b201a4328e807a67",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a79b1b5_c0099d32",
        "filename": "opendaylight/md-sal/sal-distributed-datastore/src/main/java/org/opendaylight/controller/cluster/datastore/entityownership/EntityOwnershipListenerSupport.java",
        "patchSetId": 2
      },
      "lineNbr": 110,
      "author": {
        "id": 795
      },
      "writtenOn": "2015-08-27T20:01:40Z",
      "side": 1,
      "message": "Why not add listenerActorFor in ListenerActorRefEntry? Also adding static factory methods for creating and removing ListenerActorRefEntry might give better encapsulation. What do you think?",
      "revId": "82222da0f462a0569ca6d2c1b201a4328e807a67",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a79b1b5_fb0eca33",
        "filename": "opendaylight/md-sal/sal-distributed-datastore/src/main/java/org/opendaylight/controller/cluster/datastore/entityownership/EntityOwnershipListenerSupport.java",
        "patchSetId": 2
      },
      "lineNbr": 110,
      "author": {
        "id": 1842
      },
      "writtenOn": "2015-08-27T20:09:28Z",
      "side": 1,
      "message": "I can add listenerActorFor here. I\u0027m not sure what you mean by he static factory methods?",
      "parentUuid": "3a79b1b5_c0099d32",
      "revId": "82222da0f462a0569ca6d2c1b201a4328e807a67",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a79b1b5_7b171aee",
        "filename": "opendaylight/md-sal/sal-distributed-datastore/src/main/java/org/opendaylight/controller/cluster/datastore/entityownership/EntityOwnershipListenerSupport.java",
        "patchSetId": 2
      },
      "lineNbr": 110,
      "author": {
        "id": 795
      },
      "writtenOn": "2015-08-27T22:11:30Z",
      "side": 1,
      "message": "Ok. So I was looking at all the field ListenerActorRefEntry fields in the containing class and it seems like if we had static factory methods like createListenerActorRefEntry it would create the ActorRefEntry or increment the count as we do outside similarly destroyActorRefEntry would either decrement the count or remove a reference and kill the actor. That way all this logic would be encapsulated in the ActorRefEntry class. That way we could move the class out as well if necessary.",
      "parentUuid": "3a79b1b5_fb0eca33",
      "revId": "82222da0f462a0569ca6d2c1b201a4328e807a67",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a79b1b5_bbc7f244",
        "filename": "opendaylight/md-sal/sal-distributed-datastore/src/main/java/org/opendaylight/controller/cluster/datastore/entityownership/EntityOwnershipListenerSupport.java",
        "patchSetId": 2
      },
      "lineNbr": 110,
      "author": {
        "id": 1842
      },
      "writtenOn": "2015-08-27T23:40:23Z",
      "side": 1,
      "message": "I added actorFor and made this class non-static. I\u0027ll see what I can do about static factory methods.",
      "parentUuid": "3a79b1b5_7b171aee",
      "revId": "82222da0f462a0569ca6d2c1b201a4328e807a67",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a79b1b5_1b006600",
        "filename": "opendaylight/md-sal/sal-distributed-datastore/src/main/java/org/opendaylight/controller/cluster/datastore/entityownership/messages/EntityOwnershipChanged.java",
        "patchSetId": 2
      },
      "lineNbr": 23,
      "author": {
        "id": 795
      },
      "writtenOn": "2015-08-27T20:01:40Z",
      "side": 1,
      "message": "entity not null",
      "revId": "82222da0f462a0569ca6d2c1b201a4328e807a67",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a79b1b5_9b13165c",
        "filename": "opendaylight/md-sal/sal-distributed-datastore/src/main/java/org/opendaylight/controller/cluster/datastore/entityownership/messages/EntityOwnershipChanged.java",
        "patchSetId": 2
      },
      "lineNbr": 23,
      "author": {
        "id": 1842
      },
      "writtenOn": "2015-08-27T20:09:28Z",
      "side": 1,
      "message": "I\u0027ll add PreCondition.",
      "parentUuid": "3a79b1b5_1b006600",
      "revId": "82222da0f462a0569ca6d2c1b201a4328e807a67",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    }
  ]
}