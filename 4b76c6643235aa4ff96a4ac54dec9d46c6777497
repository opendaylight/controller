{
  "comments": [
    {
      "key": {
        "uuid": "3aa0d159_4cd15956",
        "filename": "opendaylight/md-sal/sal-distributed-datastore/src/main/java/org/opendaylight/controller/cluster/datastore/messages/FindPrimary.java",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 795
      },
      "writtenOn": "2015-04-28T11:47:35Z",
      "side": 1,
      "message": "Why do we need the can flag? Shouldn\u0027t we just return the datatree if the local shard is the leader?",
      "revId": "4b76c6643235aa4ff96a4ac54dec9d46c6777497",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3aa0d159_8c20c1f8",
        "filename": "opendaylight/md-sal/sal-distributed-datastore/src/main/java/org/opendaylight/controller/cluster/datastore/messages/FindPrimary.java",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1842
      },
      "writtenOn": "2015-04-28T12:57:12Z",
      "side": 1,
      "message": "I added this b/c the ShardManager will forward the message to a remote ShardManager if no local Shard is found. We don\u0027t want the remote ShardManager returning its local shard DataTree. I wasn\u0027t crazy about adding this flag - another option would be to add a RemoteFindPrimary message. I could do that if you think that would be cleaner.",
      "parentUuid": "3aa0d159_4cd15956",
      "revId": "4b76c6643235aa4ff96a4ac54dec9d46c6777497",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3aa0d159_599b5618",
        "filename": "opendaylight/md-sal/sal-distributed-datastore/src/main/java/org/opendaylight/controller/cluster/datastore/messages/FindPrimary.java",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 795
      },
      "writtenOn": "2015-04-28T18:46:39Z",
      "side": 1,
      "message": "I see your point. However the flag confused me. For me it would have been more intuitive to actually look at the sender actor/path and determine if it was local/remote. How about doing that instead by using ActorContext.isPathLocal?",
      "parentUuid": "3aa0d159_8c20c1f8",
      "revId": "4b76c6643235aa4ff96a4ac54dec9d46c6777497",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3aa0d159_99555e1f",
        "filename": "opendaylight/md-sal/sal-distributed-datastore/src/main/java/org/opendaylight/controller/cluster/datastore/messages/FindPrimary.java",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 1842
      },
      "writtenOn": "2015-04-28T19:02:38Z",
      "side": 1,
      "message": "I thought about that but that code is in the ActorContext so it would have to be moved somewhere else. Plus, the caller knows if they\u0027re local to the recipient or not so I don\u0027t need to rely on inspection of the path address to determine that. That code makes me a little nervous anyway even though it seems to be reliable. \n\nGiven that I can refactor ActorContext.isPathLocal or create a RemoteFindPrimary. I would opt for the latter or keeping it the way it is (and adding comments). Let me know....",
      "parentUuid": "3aa0d159_599b5618",
      "revId": "4b76c6643235aa4ff96a4ac54dec9d46c6777497",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3aa0d159_9c1a2c6d",
        "filename": "opendaylight/md-sal/sal-distributed-datastore/src/main/java/org/opendaylight/controller/cluster/datastore/messages/FindPrimary.java",
        "patchSetId": 3
      },
      "lineNbr": 23,
      "author": {
        "id": 795
      },
      "writtenOn": "2015-04-28T19:15:32Z",
      "side": 1,
      "message": "Let\u0027s go with RemoteFindPrimary then. It\u0027ll be easier to understand.",
      "parentUuid": "3aa0d159_99555e1f",
      "revId": "4b76c6643235aa4ff96a4ac54dec9d46c6777497",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3aa0d159_cc13295b",
        "filename": "opendaylight/md-sal/sal-distributed-datastore/src/main/java/org/opendaylight/controller/cluster/datastore/messages/FindPrimary.java",
        "patchSetId": 3
      },
      "lineNbr": 46,
      "author": {
        "id": 795
      },
      "writtenOn": "2015-04-28T11:47:35Z",
      "side": 1,
      "message": "Could we just call this method canReturnLocalShardState? isCan doesn\u0027t sound right. Or do we even need this flag?",
      "revId": "4b76c6643235aa4ff96a4ac54dec9d46c6777497",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3aa0d159_4c7ab9f2",
        "filename": "opendaylight/md-sal/sal-distributed-datastore/src/main/java/org/opendaylight/controller/cluster/datastore/messages/FindPrimary.java",
        "patchSetId": 3
      },
      "lineNbr": 46,
      "author": {
        "id": 1842
      },
      "writtenOn": "2015-04-28T12:57:12Z",
      "side": 1,
      "message": "Eclipse added the \"is\" by convention - I can remove it if we keep the flag.",
      "parentUuid": "3aa0d159_cc13295b",
      "revId": "4b76c6643235aa4ff96a4ac54dec9d46c6777497",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81",
      "unresolved": false
    }
  ]
}